"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[615],{4654:(A,h,l)=>{l.d(h,{I:()=>p});var d=l(4650),_=l(1048);const f=["*"];let p=(()=>{class e{constructor(u){this.route=u}ngOnInit(){this.route.paramMap.subscribe(u=>{this.updateId=u.get("sliderId")})}}return e.\u0275fac=function(u){return new(u||e)(d.Y36(_.gz))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-image-guideline"]],inputs:{size:"size"},ngContentSelectors:f,decls:12,vars:1,template:function(u,r){1&u&&(d.F$t(),d.TgZ(0,"h5"),d._uU(1,"Note: Following steps need to follow before uploading file"),d.qZA(),d.TgZ(2,"ul")(3,"li"),d._uU(4,"Image format : JPEG, PNG formats. Animated .gif files not accepted."),d.qZA(),d.TgZ(5,"li"),d._uU(6),d.qZA(),d.TgZ(7,"li"),d._uU(8,"Image Frame : At least 85% of the entire frame or background must be filled."),d.qZA(),d.TgZ(9,"li"),d._uU(10," Background Colour : White or transparent background is allowed. However white is preferred more. Colorful backgrounds are not at all accepted. "),d.qZA(),d.Hsn(11),d.qZA()),2&u&&(d.xp6(6),d.hij("Image Size : ",r.size||"2400x1600px"," Pixel Image Size."))}}),e})()},7523:(A,h,l)=>{l.d(h,{F:()=>f});var d=l(6895),_=l(4650);let f=(()=>{class p{}return p.\u0275fac=function(g){return new(g||p)},p.\u0275mod=_.oAB({type:p}),p.\u0275inj=_.cJS({imports:[d.ez]}),p})()},550:(A,h,l)=>{l.r(h),l.d(h,{CategoriesModule:()=>Ae});var d=l(6895),_=l(8796),f=l(1048),p=l(5990),e=l(4650),g=l(3877),u=l(9812),r=l(4006),b=l(7341),S=l(6129),C=l(3162),U=l(8446),q=l(6172),N=l(4724),T=l(5861),v=l(3887),x=l(6093),y=l(605),I=l(4654);function L(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(31);return e.KtG(o.click())}),e._UZ(1,"i",32),e._uU(2," Pick Image "),e.qZA()}}function w(n,s){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"app-input-error",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("control",t.form.get("image"))("fieldName","Image")}}function Q(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"a",35),e._UZ(3,"img",36),e.qZA(),e.TgZ(4,"div",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.removebrandLogo("image",!1))}),e._UZ(5,"i",38),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("href",t.imgSrc,e.LSH),e.xp6(1),e.Q6J("src",t.imgSrc,e.LSH)}}function O(n,s){1&n&&e._UZ(0,"span",39)}let Y=(()=>{class n{constructor(t,i,o){this.fb=t,this.categoryService=i,this.uiService=o,this.isFormSubmitted=!1,this.genderStatus=!1}ngOnInit(){this.initForm()}onModalClose(t){this.uiService.closeModal("#Add_Specialities_details",t)}getGender(){this.genderStatus=!this.genderStatus,console.log("genders",this.genderStatus)}initForm(){this.form=this.fb.group({categoryId:[null],name:[null,[r.kI.required,r.kI.maxLength(50)]],status:[!1,[r.kI.required]],isGender:[!1],image:[null,[r.kI.required]]}),this.uiService.onModalDataChange().subscribe(t=>{t?.catId&&(this.form.get("categoryId")?.patchValue(t.catId),this.form.get("collectionIds")?.updateValueAndValidity())})}onFormSubmit(t){var i=this;return(0,T.Z)(function*(){if(i.form.invalid)i.form.markAllAsTouched();else{i.isFormSubmitted=!0,console.log(t);try{console.log({formData:t});let o=yield i.categoryService.addCategories(t);i.form.reset({status:!1}),i.imgSrc=null,i.uiService.openSnackbar(o.message),i.onModalClose(!0)}catch{}finally{i.isFormSubmitted=!1}}})()}removebrandLogo(t,i=!1){this.imgSrc=null,this.form.get(t)?.patchValue(null)}chooseFile(t,i,o=!1){const a=t.target?.files;if(a?.length){if(!v.KL.includes(a[0].type))return this.uiService.openSnackbar(v.p1);for(let c=0;c<a.length;c++){const m=new FileReader;m.onload=Z=>{this.imgSrc=m.result},m.readAsDataURL(a[c])}(0,x.Y)(t,i,this.form)}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(g.G),e.Y36(u.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-categories"]],decls:48,vars:11,consts:[["id","Add_Specialities_details","aria-hidden","true","role","dialog",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["id","categoryButton","type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row","form-row"],[1,"col-12"],[1,"form-group"],["for","validationServer02",1,"required-label"],["maxlength","50","type","text","id","validationServer02","placeholder","Name","required","","formControlName","name",1,"form-control",3,"ngClass"],[3,"control","fieldName"],[1,"card"],[1,"card-body"],["download","assets/img/category.png","href","assets/img/category.png"],[1,"col-sm-7","col-auto"],[1,"col-sm-5","col"],["multiple","","type","file","accept","image/*","id","validationServer02",1,"form-control",3,"hidden","focus","change"],["image",""],["type","button","class","btn btn-primary btn-sm float-right mt-2",3,"click",4,"ngIf"],["class","col-12",4,"ngIf"],["class","d-flex align-content-start pt-2",4,"ngIf"],["for",""],[1,"switch"],["type","checkbox","formControlName","isGender",3,"checked","change"],[1,"slider","round"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm mr-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","float-right","mt-2",3,"click"],[1,"fa","fa-upload"],[1,"d-flex","align-content-start","pt-2"],[1,"d-flex"],["data-fancybox","gallery",3,"href"],[1,"img-thumbnail",2,"height","100px",3,"src"],[1,"mb-1","cursor","trashImage",3,"click"],[1,"fa","fa-trash-o","text-danger"],["role","status",1,"spinner-border","spinner-border-sm","mr-2"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Add Category"),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.onModalClose(!1)}),e.TgZ(7,"span",6),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return i.onFormSubmit(i.form.value)}),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),e._uU(15,"Name"),e.qZA(),e._UZ(16,"input",13)(17,"app-input-error",14),e.qZA()(),e.TgZ(18,"div",10)(19,"div",15)(20,"div",16)(21,"app-image-guideline")(22,"li"),e._uU(23,"Sample Image: "),e.TgZ(24,"a",17),e._uU(25,"Download Sample Image"),e.qZA()()()()()(),e.TgZ(26,"div",18)(27,"label",12),e._uU(28,"Image "),e.qZA()(),e.TgZ(29,"div",19)(30,"input",20,21),e.NdJ("focus",function(){let a;return null==(a=i.form.get("image"))?null:a.markAsTouched()})("change",function(a){return i.chooseFile(a,"image",!1)}),e.qZA(),e.YNc(32,L,3,0,"button",22),e.qZA(),e.YNc(33,w,2,2,"div",23),e.TgZ(34,"div",10),e.YNc(35,Q,6,2,"div",24),e.qZA(),e.TgZ(36,"div",10)(37,"div",11)(38,"p",25)(39,"b"),e._uU(40," Is This Bottom Category"),e.qZA()(),e.TgZ(41,"label",26)(42,"input",27),e.NdJ("change",function(){return i.getGender()}),e.qZA(),e._UZ(43,"span",28),e.qZA()()()(),e._UZ(44,"br"),e.TgZ(45,"button",29),e.YNc(46,O,1,0,"span",30),e._uU(47," Save "),e.qZA()()()()()()),2&t){let o,a;e.xp6(10),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngClass",null!=(o=i.form.get("name"))&&o.touched?null!=(o=i.form.get("name"))&&o.hasError("required")?"is-invalid":"is-valid":""),e.xp6(1),e.Q6J("control",i.form.get("name"))("fieldName","Name"),e.xp6(13),e.Q6J("hidden",!0),e.xp6(2),e.Q6J("ngIf",!i.imgSrc),e.xp6(1),e.Q6J("ngIf",null==(a=i.form.get("image"))?null:a.errors),e.xp6(2),e.Q6J("ngIf",i.imgSrc),e.xp6(7),e.Q6J("checked",1==i.genderStatus),e.xp6(3),e.Q6J("disabled",i.isFormSubmitted),e.xp6(1),e.Q6J("ngIf",i.isFormSubmitted)}},dependencies:[d.mk,d.O5,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,y.w,I.I],styles:['.trashImage[_ngcontent-%COMP%]{position:relative;right:25px;background:black;height:min-content;padding:0 6px}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})();function P(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(31);return e.KtG(o.click())}),e._UZ(1,"i",33),e._uU(2," Pick Image "),e.qZA()}}function G(n,s){1&n&&(e.TgZ(0,"div",10)(1,"small",34),e._uU(2,"Image is required."),e.qZA()())}function D(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"a",37),e._UZ(3,"img",38),e.qZA(),e.TgZ(4,"div",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.removebrandLogo("image",!1))}),e._UZ(5,"i",40),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("href",t.imageSrc,e.LSH),e.xp6(1),e.Q6J("src",t.imageSrc,e.LSH)}}function E(n,s){1&n&&e._UZ(0,"span",41)}let z=(()=>{class n{constructor(t,i,o){this.fb=t,this.categoryService=i,this.uiService=o,this.isFormSubmitted=!1,this.genderStatus=!1}ngOnInit(){this.initForm()}getGender(){this.genderStatus=!this.genderStatus,console.log("genders",this.genderStatus)}initForm(){this.form=this.fb.group({_id:[null],name:[null,[r.kI.required,r.kI.maxLength(50)]],status:[!1,[r.kI.required]],isGender:[!1,[r.kI.required]],image:[null]}),this.subscription=this.uiService.onModalDataChange().subscribe(t=>{this.imageSrc=t?.image.sm,t?._id&&this.form.setValue({_id:t?._id??null,name:t?.name,status:t?.status,isGender:t?.isGender,image:null})})}onFormSubmit(t){var i=this;return(0,T.Z)(function*(){if(i.form.invalid)i.form.markAllAsTouched();else{i.isFormSubmitted=!0;try{let o=yield i.categoryService.updateCategories(t._id,t);i.form.reset({status:!1}),i.imageSrc=null,i.uiService.openSnackbar(o.message),i.onModalClose(!0)}catch{}finally{i.isFormSubmitted=!1}}})()}removebrandLogo(t,i){this.imageSrc=null,this.form.get(t)?.patchValue(null)}chooseFile(t,i,o){const a=t.target?.files;if(a?.length){if(!v.KL.includes(a[0].type))return void this.uiService.openSnackbar(v.p1);for(let c=0;c<a.length;c++){const m=new FileReader;m.onload=Z=>{this.imageSrc=m.result},m.readAsDataURL(a[c])}(0,x.Y)(t,i,this.form)}}onModalClose(t){this.uiService.closeModal("#edit_specialities_details",t)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(g.G),e.Y36(u.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-categories"]],decls:48,vars:11,consts:[["id","edit_specialities_details","aria-hidden","true","role","dialog",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row","form-row"],[1,"col-12"],[1,"form-group"],["for","validationServer01",1,"required-label"],["maxlength","50","type","text","id","validationServer01","placeholder","Category Name","required","","formControlName","name",1,"form-control",3,"ngClass"],[3,"control","fieldName"],[1,"card"],[1,"card-body"],["download","assets/img/category.png","href","assets/img/update-category.png"],[1,"col-sm-7","col-auto"],["for","validationServer02",1,"required-label"],[1,"col-sm-5","col"],["multiple","","type","file","accept","image/*","id","validationServer02",1,"form-control",3,"hidden","focus","change"],["image",""],["type","button","class","btn btn-primary btn-sm float-right mt-2",3,"click",4,"ngIf"],["class","col-12",4,"ngIf"],["class","d-flex align-content-start pt-2",4,"ngIf"],["for",""],[1,"switch"],["type","checkbox","formControlName","isGender",3,"checked","change"],[1,"slider","round"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm mr-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","float-right","mt-2",3,"click"],[1,"fa","fa-upload"],[1,"text-danger"],[1,"d-flex","align-content-start","pt-2"],[1,"d-flex"],["data-fancybox","gallery",3,"href"],[1,"img-thumbnail",2,"height","100px",3,"src"],[1,"mb-1","cursor","trashImage",3,"click"],[1,"fa","fa-trash-o","text-danger"],["role","status",1,"spinner-border","spinner-border-sm","mr-2"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Edit Category"),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.onModalClose(!1)}),e.TgZ(7,"span",6),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return i.onFormSubmit(i.form.value)}),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),e._uU(15,"Category Name"),e.qZA(),e._UZ(16,"input",13)(17,"app-input-error",14),e.qZA()(),e.TgZ(18,"div",10)(19,"div",15)(20,"div",16)(21,"app-image-guideline")(22,"li"),e._uU(23," Sample Image: "),e.TgZ(24,"a",17),e._uU(25,"Download Sample Image"),e.qZA()()()()()(),e.TgZ(26,"div",18)(27,"label",19),e._uU(28,"Image"),e.qZA()(),e.TgZ(29,"div",20)(30,"input",21,22),e.NdJ("focus",function(){let a;return null==(a=i.form.get("image"))?null:a.markAsTouched()})("change",function(a){return i.chooseFile(a,"image",!1)}),e.qZA(),e.YNc(32,P,3,0,"button",23),e.qZA(),e.YNc(33,G,3,0,"div",24),e.TgZ(34,"div",10),e.YNc(35,D,6,2,"div",25),e.qZA(),e.TgZ(36,"div",10)(37,"div",11)(38,"p",26)(39,"b"),e._uU(40," Is This Bottom Category"),e.qZA()(),e.TgZ(41,"label",27)(42,"input",28),e.NdJ("change",function(){return i.getGender()}),e.qZA(),e._UZ(43,"span",29),e.qZA()()()(),e._UZ(44,"br"),e.TgZ(45,"button",30),e.YNc(46,E,1,0,"span",31),e._uU(47," Save "),e.qZA()()()()()()),2&t){let o,a;e.xp6(10),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngClass",null!=(o=i.form.get("name"))&&o.touched?null!=(o=i.form.get("name"))&&o.hasError("required")?"is-invalid":"is-valid":""),e.xp6(1),e.Q6J("control",i.form.get("name"))("fieldName","Category Name"),e.xp6(13),e.Q6J("hidden",!0),e.xp6(2),e.Q6J("ngIf",!i.imageSrc),e.xp6(1),e.Q6J("ngIf",!(null!=(a=i.form.get("image"))&&a.value||i.imageSrc)),e.xp6(2),e.Q6J("ngIf",i.imageSrc),e.xp6(7),e.Q6J("checked",1==i.genderStatus),e.xp6(3),e.Q6J("disabled",i.isFormSubmitted),e.xp6(1),e.Q6J("ngIf",i.isFormSubmitted)}},dependencies:[d.mk,d.O5,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,y.w,I.I],styles:['.trashImage[_ngcontent-%COMP%]{position:relative;right:25px;background:black;height:min-content;padding:0 6px}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})();function H(n,s){1&n&&e._UZ(0,"span",21)}let K=(()=>{class n{constructor(t,i,o){this.fb=t,this.categoryService=i,this.uiService=o,this.isFormSubmitted=!1}ngOnInit(){this.form=this.fb.group({date:[null],status:[""]})}onModalClose(t){this.uiService.closeModal("#Filter_Categories",t)}onFormSubmit(t){this.form.invalid?this.form.markAllAsTouched():(this.isFormSubmitted=!0,this.uiService.openSnackbar("Filter apply"),this.isFormSubmitted=!1,this.onModalClose(t))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(g.G),e.Y36(u.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-filter-category"]],decls:33,vars:9,consts:[["id","Filter_Categories","aria-hidden","true","role","dialog",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["id","categoryButton","type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row","form-row"],[1,"col-6"],[1,"form-group"],["for","validationServer02",1,"required-label"],["type","text","id","validationServer02","placeholder","Status","required","","formControlName","status",1,"custom-select",3,"ngClass"],["value",""],["value","1"],["value","0"],[3,"control","fieldName"],["type","date","id","validationServer02","placeholder","Category Name","required","","formControlName","date",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm mr-2","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","mr-2"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Filter By"),e.qZA(),e.TgZ(6,"button",5)(7,"span",6),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return i.onFormSubmit(i.form.value)}),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),e._uU(15,"Status"),e.qZA(),e.TgZ(16,"select",13)(17,"option",14),e._uU(18,"All"),e.qZA(),e.TgZ(19,"option",15),e._uU(20,"Active"),e.qZA(),e.TgZ(21,"option",16),e._uU(22,"InActive"),e.qZA()(),e._UZ(23,"app-input-error",17),e.qZA()(),e.TgZ(24,"div",10)(25,"div",11)(26,"label",12),e._uU(27,"Date"),e.qZA(),e._UZ(28,"input",18)(29,"app-input-error",17),e.qZA()()(),e.TgZ(30,"button",19),e.YNc(31,H,1,0,"span",20),e._uU(32," Save "),e.qZA()()()()()()),2&t){let o,a;e.xp6(10),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngClass",null!=(o=i.form.get("status"))&&o.touched?null!=(o=i.form.get("status"))&&o.hasError("required")?"is-invalid":"is-valid":""),e.xp6(7),e.Q6J("control",i.form.get("status"))("fieldName","Status"),e.xp6(5),e.Q6J("ngClass",null!=(a=i.form.get("date"))&&a.touched?null!=(a=i.form.get("date"))&&a.hasError("required")?"is-invalid":"is-valid":""),e.xp6(1),e.Q6J("control",i.form.get("date"))("fieldName","Date"),e.xp6(1),e.Q6J("disabled",i.isFormSubmitted),e.xp6(1),e.Q6J("ngIf",i.isFormSubmitted)}},dependencies:[d.mk,d.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.Q7,r.sg,r.u,y.w]}),n})();var J=l(5144);const B=["app-sub-cat-item",""];let R=(()=>{class n{constructor(t,i){this.categoryService=t,this.uiService=i,this.onUpdateCategory=new e.vpe,this.selectedsubCat=null,this.isOnDelete=new e.vpe}ngOnInit(){}updateCategoryStatus(t,i,o){this.categoryService.updateCategoryStatus(t,i).subscribe(a=>{this.item._id==t&&(this.item.status=!i),this.item.subCategories=this.item.subCategories.map(c=>(this.item._id==t&&(this.item.status=!i),c)),this.uiService.openSnackbar(a.message)})}onEdit(t,i){let o;o=i?this.uiService.openModal("#edit_SubCat",{mainCatId:i,category:t}):this.uiService.openModal("#edit_specialities_details",t),o.afterClose.subscribe(a=>{a&&this.onUpdateCategory.next()})}onDelete(t,i){this.uiService.openModal("#delete_modal").afterClose.subscribe(o=>{o&&this.categoryService.deleteCategories(t).subscribe(a=>{this.isOnDelete.next(),this.uiService.openSnackbar(a.message),this.uiService.closeModal("#delete_modal",!0)},a=>{})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.G),e.Y36(u.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","app-sub-cat-item",""]],inputs:{cid:"cid",item:"item"},outputs:{onUpdateCategory:"onUpdateCategory",isOnDelete:"isOnDelete"},attrs:B,decls:25,vars:11,consts:[["colspan","3",1,"sorting_1","cursor",3,"click"],[1,"table-avatar"],[1,"avatar","avatar-sm","mr-2"],[1,"avatar-img","rounded-circle",3,"src","alt"],[3,"title"],[1,"d-flex","justify-content-center"],["type","checkbox","id","status_1",3,"ngClass"],["for","status_1",1,"checktoggle",3,"click"],[1,"text-center"],[1,"text-right"],[1,"actions"],["data-toggle","modal",1,"btn","btn-sm","btn-outline-success",3,"click"],[1,"fe","fe-pencil"],["data-toggle","modal",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fe","fe-trash"]],template:function(t,i){1&t&&(e.ynx(0),e._UZ(1,"td"),e.TgZ(2,"td",0),e.NdJ("click",function(){return i.selectedsubCat=i.selectedsubCat==i.item._id?null:i.item._id}),e.TgZ(3,"h2",1)(4,"a",2),e._UZ(5,"img",3),e.qZA(),e.TgZ(6,"a",4),e._uU(7),e.ALo(8,"elipsis"),e.qZA()()(),e.TgZ(9,"td")(10,"div",5),e._UZ(11,"input",6),e.TgZ(12,"label",7),e.NdJ("click",function(){return i.updateCategoryStatus(i.item._id,i.item.status,!1)}),e._uU(13,"checkbox"),e.qZA()()(),e.TgZ(14,"td",8),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"td",9)(18,"div",10)(19,"button",11),e.NdJ("click",function(){return i.onEdit(i.item,i.cid)}),e._UZ(20,"i",12),e._uU(21," Edit "),e.qZA(),e.TgZ(22,"button",13),e.NdJ("click",function(){return i.onDelete(i.item._id,!1)}),e._UZ(23,"i",14),e._uU(24," Delete "),e.qZA()()(),e.BQk()),2&t&&(e.xp6(5),e.Q6J("src",i.item.image.sm?i.item.image.sm:"assets/img/patients/patient.jpg",e.LSH)("alt",i.item.name),e.xp6(1),e.Q6J("title",i.item.name),e.xp6(1),e.hij("",e.lcZ(8,6,i.item.name)," "),e.xp6(4),e.Q6J("ngClass",i.item.status?"check active":"check"),e.xp6(4),e.hij(" ",e.xi3(16,8,i.item.createdAt,"d MMM, y")," "))},dependencies:[d.mk,d.uU,J.p]}),n})();function j(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(27);return e.KtG(o.click())}),e._UZ(1,"i",27),e._uU(2," Pick Image "),e.qZA()}}function V(n,s){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"app-input-error",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("control",t.form.get("image"))("fieldName","Image")}}function W(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"a",30),e._UZ(3,"img",31),e.qZA(),e.TgZ(4,"div",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.removebrandLogo("image",!1))}),e._UZ(5,"i",33),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("href",t.imgSrc,e.LSH),e.xp6(1),e.Q6J("src",t.imgSrc,e.LSH)}}function $(n,s){1&n&&e._UZ(0,"span",34)}let X=(()=>{class n{constructor(t,i,o){this.fb=t,this.categoryService=i,this.uiService=o,this.isFormSubmitted=!1,this.collections=[]}ngOnInit(){this.initForm()}onModalClose(t){this.uiService.closeModal("#Add_SubCat",t)}initForm(){this.form=this.fb.group({categoryId:[null],name:[null,[r.kI.required]],status:[!1,[r.kI.required]],image:[null,[r.kI.required]],collectionIds:[]}),this.uiService.onModalDataChange().subscribe(t=>{t?.catId&&this.form.get("categoryId")?.patchValue(t.catId)})}onFormSubmit(t){var i=this;return(0,T.Z)(function*(){if(i.form.invalid)i.form.markAllAsTouched();else{i.isFormSubmitted=!0;try{let o=yield i.categoryService.addChildCategories(t.categoryId,t);i.form.reset({status:!1}),i.imgSrc=null,i.uiService.openSnackbar(o.message),i.onModalClose(!0)}catch(o){i.uiService.openSnackbar(o.message)}finally{i.isFormSubmitted=!1}}})()}removebrandLogo(t,i=!1){this.imgSrc=null,this.form.get(t)?.patchValue(null)}chooseFile(t,i,o=!1){const a=t.target?.files;if(a?.length){if(!v.KL.includes(a[0].type))return this.uiService.openSnackbar(v.p1);for(let c=0;c<a.length;c++){const m=new FileReader;m.onload=Z=>{this.imgSrc=m.result},m.readAsDataURL(a[c])}(0,x.Y)(t,i,this.form)}}onSelectAll(){const t=this.collections.map(i=>i._id);this.form.get("collectionIds")?.patchValue(t)}onClearAll(){this.form.get("collectionIds")?.patchValue([])}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(g.G),e.Y36(u.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-sub-category"]],decls:36,vars:10,consts:[["id","Add_SubCat","aria-hidden","true","role","dialog",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["id","categoryButton","type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row","form-row"],[1,"col-12"],[1,"form-group"],["for","validationServer02",1,"required-label"],["maxlength","50","type","text","id","validationServer02","placeholder","Name","required","","formControlName","name",1,"form-control",3,"ngClass"],[3,"control","fieldName"],[1,"card"],[1,"card-body"],[1,"col-sm-7","col-auto"],[1,"col-sm-5","col"],["multiple","","type","file","accept","image/*","id","validationServer02",1,"form-control",3,"hidden","focus","change"],["image",""],["type","button","class","btn btn-primary btn-sm float-right mt-2",3,"click",4,"ngIf"],["class","col-12",4,"ngIf"],["class","d-flex align-content-start pt-2",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm mr-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","float-right","mt-2",3,"click"],[1,"fa","fa-upload"],[1,"d-flex","align-content-start","pt-2"],[1,"d-flex"],["data-fancybox","gallery",3,"href"],[1,"img-thumbnail",2,"height","100px",3,"src"],[1,"mb-1","cursor","trashImage",3,"click"],[1,"fa","fa-trash-o","text-danger"],["role","status",1,"spinner-border","spinner-border-sm","mr-2"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Add Sub Category"),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.onModalClose(!1)}),e.TgZ(7,"span",6),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return i.onFormSubmit(i.form.value)}),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),e._uU(15,"Name"),e.qZA(),e._UZ(16,"input",13)(17,"app-input-error",14),e.qZA()(),e.TgZ(18,"div",10)(19,"div",15)(20,"div",16),e._UZ(21,"app-image-guideline"),e.qZA()()(),e.TgZ(22,"div",17)(23,"label",12),e._uU(24,"Image"),e.qZA()(),e.TgZ(25,"div",18)(26,"input",19,20),e.NdJ("focus",function(){let a;return null==(a=i.form.get("image"))?null:a.markAsTouched()})("change",function(a){return i.chooseFile(a,"image",!1)}),e.qZA(),e.YNc(28,j,3,0,"button",21),e.qZA(),e.YNc(29,V,2,2,"div",22),e.TgZ(30,"div",10),e.YNc(31,W,6,2,"div",23),e.qZA()(),e._UZ(32,"br"),e.TgZ(33,"button",24),e.YNc(34,$,1,0,"span",25),e._uU(35," Save "),e.qZA()()()()()()),2&t){let o,a;e.xp6(10),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngClass",null!=(o=i.form.get("name"))&&o.touched?null!=(o=i.form.get("name"))&&o.hasError("required")?"is-invalid":"is-valid":""),e.xp6(1),e.Q6J("control",i.form.get("name"))("fieldName","Name"),e.xp6(9),e.Q6J("hidden",!0),e.xp6(2),e.Q6J("ngIf",!i.imgSrc),e.xp6(1),e.Q6J("ngIf",null==(a=i.form.get("image"))?null:a.errors),e.xp6(2),e.Q6J("ngIf",i.imgSrc),e.xp6(2),e.Q6J("disabled",i.isFormSubmitted),e.xp6(1),e.Q6J("ngIf",i.isFormSubmitted)}},dependencies:[d.mk,d.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,y.w,I.I],styles:[".trashImage[_ngcontent-%COMP%]{position:relative;right:25px;background:black;height:min-content;padding:0 6px}"]}),n})();function ee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(18);return e.KtG(o.click())}),e._UZ(1,"i",29),e._uU(2," Pick Image "),e.qZA()}}function te(n,s){1&n&&(e.TgZ(0,"div",11)(1,"small",30),e._uU(2,"Image is required."),e.qZA()())}function ie(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"a",33),e._UZ(3,"img",34),e.qZA(),e.TgZ(4,"div",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.removebrandLogo("image",!1))}),e._UZ(5,"i",36),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("href",t.imageSrc,e.LSH),e.xp6(1),e.Q6J("src",t.imageSrc,e.LSH)}}function oe(n,s){1&n&&e._UZ(0,"span",37)}function ne(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"form",9),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit(o.form.value))}),e.TgZ(2,"div",10)(3,"div",11)(4,"div",12)(5,"label",13),e._uU(6,"Category Name"),e.qZA(),e._UZ(7,"input",14)(8,"app-input-error",15),e.qZA()(),e.TgZ(9,"div",11)(10,"div",16)(11,"div",17),e._UZ(12,"app-image-guideline"),e.qZA()()(),e.TgZ(13,"div",18)(14,"label",19),e._uU(15,"Image"),e.qZA()(),e.TgZ(16,"div",20)(17,"input",21,22),e.NdJ("focus",function(){e.CHM(t);const o=e.oxw();let a;return e.KtG(null==(a=o.form.get("image"))?null:a.markAsTouched())})("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.chooseFile(o,"image",!1))}),e.qZA(),e.YNc(19,ee,3,0,"button",23),e.qZA(),e.YNc(20,te,3,0,"div",24),e.TgZ(21,"div",11),e.YNc(22,ie,6,2,"div",25),e.qZA()(),e._UZ(23,"br"),e.TgZ(24,"button",26),e.YNc(25,oe,1,0,"span",27),e._uU(26," Save "),e.qZA()()()}if(2&n){const t=e.oxw();let i,o;e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(6),e.Q6J("ngClass",null!=(i=t.form.get("name"))&&i.touched?null!=(i=t.form.get("name"))&&i.hasError("required")?"is-invalid":"is-valid":""),e.xp6(1),e.Q6J("control",t.form.get("name"))("fieldName","Category Name"),e.xp6(9),e.Q6J("hidden",!0),e.xp6(2),e.Q6J("ngIf",!t.imageSrc),e.xp6(1),e.Q6J("ngIf",!(null!=(o=t.form.get("image"))&&o.value||t.imageSrc)),e.xp6(2),e.Q6J("ngIf",t.imageSrc),e.xp6(2),e.Q6J("disabled",t.isFormSubmitted),e.xp6(1),e.Q6J("ngIf",t.isFormSubmitted)}}let ae=(()=>{class n{constructor(t,i,o){this.fb=t,this.categoryService=i,this.uiService=o,this.isFormSubmitted=!1,this.collections=[],this.dropdownList=[],this.selectedItems=[],this.dropdownSettings={singleSelection:!1,text:"Select Collections",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,classes:"",maxHeight:200},this.newSelectedCollections=[]}ngOnInit(){this.initForm()}initForm(){this.form=this.fb.group({mainCatId:[],_id:[null],collectionIds:[],name:[null,[r.kI.required]],status:[!1,[r.kI.required]],image:[null]}),this.subscription=this.uiService.onModalDataChange().subscribe(t=>{if(this.imageSrc=t.category?.image.sm,this.form&&t?.mainCatId){for(let i of t?.category?.collections||[])this.selectedItems.push(i._id);this.form.setValue({mainCatId:t?.mainCatId??null,_id:t?.category?._id??null,name:t?.category?.name,status:t?.category?.status,collectionIds:this.selectedItems,image:null})}})}onFormSubmit(t){var i=this;return(0,T.Z)(function*(){if(i.form.invalid)i.form.markAllAsTouched();else{i.isFormSubmitted=!0;try{let o=yield i.categoryService.updateChildCategories(t.mainCatId,{subCategoryId:t._id,...t});i.form.reset({status:!1}),i.imageSrc=null,i.uiService.openSnackbar(o.message),i.onModalClose(!0)}catch(o){i.uiService.openSnackbar(o.message)}finally{i.isFormSubmitted=!1}}})()}onSelectAll(){const t=this.collections.map(i=>i._id);this.form.get("collectionIds")?.patchValue(t)}onClearAll(){this.form.get("collectionIds")?.patchValue([])}onModalClose(t){this.newSelectedCollections=[],this.selectedItems=[],this.uiService.closeModal("#edit_SubCat",t)}removebrandLogo(t,i){this.imageSrc=null,this.form.get(t)?.patchValue(null)}chooseFile(t,i,o){const a=t.target?.files;if(a?.length){if(!v.KL.includes(a[0].type))return void this.uiService.openSnackbar(v.p1);for(let c=0;c<a.length;c++){const m=new FileReader;m.onload=Z=>{this.imageSrc=m.result},m.readAsDataURL(a[c])}(0,x.Y)(t,i,this.form)}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(g.G),e.Y36(u.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-sub-category"]],decls:10,vars:1,consts:[["id","edit_SubCat","aria-hidden","true","role","dialog",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row","form-row"],[1,"col-12"],[1,"form-group"],["for","validationServer01",1,"required-label"],["maxlength","50","type","text","id","validationServer01","placeholder","Category Name","required","","formControlName","name",1,"form-control",3,"ngClass"],[3,"control","fieldName"],[1,"card"],[1,"card-body"],[1,"col-sm-7","col-auto"],["for","validationServer02",1,"required-label"],[1,"col-sm-5","col"],["multiple","","type","file","accept","image/*","id","validationServer02",1,"form-control",3,"hidden","focus","change"],["image",""],["type","button","class","btn btn-primary btn-sm float-right mt-2",3,"click",4,"ngIf"],["class","col-12",4,"ngIf"],["class","d-flex align-content-start pt-2",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm mr-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","float-right","mt-2",3,"click"],[1,"fa","fa-upload"],[1,"text-danger"],[1,"d-flex","align-content-start","pt-2"],[1,"d-flex"],["data-fancybox","gallery",3,"href"],[1,"img-thumbnail",2,"height","100px",3,"src"],[1,"mb-1","cursor","trashImage",3,"click"],[1,"fa","fa-trash-o","text-danger"],["role","status",1,"spinner-border","spinner-border-sm","mr-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Edit Sub Category"),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.onModalClose(!1)}),e.TgZ(7,"span",6),e._uU(8,"\xd7"),e.qZA()()(),e.YNc(9,ne,27,10,"div",7),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngIf",i.form))},dependencies:[d.mk,d.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,y.w,I.I],styles:[".trashImage[_ngcontent-%COMP%]{position:relative;right:25px;background:black;height:min-content;padding:0 6px}"]}),n})();function re(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAdd())}),e._UZ(2,"i",21),e._uU(3," Add "),e.qZA(),e.BQk()}}function se(n,s){1&n&&(e.TgZ(0,"div",22)(1,"b"),e._uU(2,"Unauthorize Access."),e.qZA()())}function le(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",49),e.NdJ("isOnDelete",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.fetchCategories())})("onUpdateCategory",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.onUpdateCategory())}),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(),a=i.$implicit;e.Q6J("ngClass",i.index%2==0?"even":"odd")("cid",a._id)("item",t)}}function de(n,s){if(1&n&&(e.ynx(0),e.YNc(1,le,1,3,"tr",48),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.selectedCat==t._id)}}function ce(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",30)(2,"td",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.selectedCat=c.selectedCat==a._id?null:a._id)}),e._UZ(3,"i",32),e._uU(4," \xa0 "),e.TgZ(5,"h2",33)(6,"a",34),e._UZ(7,"img",35),e.qZA(),e.TgZ(8,"a",36),e._uU(9),e.ALo(10,"elipsis"),e.qZA()()(),e.TgZ(11,"td",37)(12,"div",38),e._UZ(13,"input",39),e.TgZ(14,"label",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.updateCategoryStatus(a._id,a.status,!1))}),e._uU(15,"checkbox"),e.qZA()()(),e.TgZ(16,"td",37),e._uU(17),e.ALo(18,"date"),e.qZA(),e.TgZ(19,"td",28)(20,"div",41)(21,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onAdd(a._id))}),e._UZ(22,"i",43),e._uU(23," Sub Category "),e.qZA(),e.TgZ(24,"button",44),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onEdit(a))}),e._UZ(25,"i",45),e._uU(26," Edit "),e.qZA(),e.TgZ(27,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onDelete(a._id,!1))}),e._UZ(28,"i",47),e._uU(29," Delete "),e.qZA()()()(),e.YNc(30,de,2,1,"ng-container",29),e.BQk()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw(2);e.xp6(1),e.Q6J("ngClass",i%2==0?"even":"odd"),e.xp6(2),e.Q6J("ngClass",o.selectedCat==t._id?"fa fa-angle-down":"fa fa-angle-right"),e.xp6(4),e.Q6J("src",t.image.xs?t.image.xs:"assets/img/patients/patient.jpg",e.LSH)("alt",t.name),e.xp6(1),e.Q6J("title",t.name),e.xp6(1),e.hij("",e.lcZ(10,9,t.name)," "),e.xp6(4),e.Q6J("ngClass",t.status?"check active":"check"),e.xp6(4),e.hij(" ",e.xi3(18,11,t.date,"d MMM, y")," "),e.xp6(13),e.Q6J("ngForOf",t.subCategories)}}function ue(n,s){if(1&n&&(e.TgZ(0,"div",3)(1,"div",8)(2,"div",23)(3,"table",24)(4,"thead")(5,"tr",25)(6,"th",26),e._uU(7,"Category Name"),e.qZA(),e.TgZ(8,"th",27),e._uU(9,"Active Status"),e.qZA(),e.TgZ(10,"th",27),e._uU(11,"Created At"),e.qZA(),e.TgZ(12,"th",28),e._uU(13,"Actions \xa0"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,ce,31,14,"ng-container",29),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(15),e.Q6J("ngForOf",t.pageData.docs)}}function me(n,s){1&n&&e._UZ(0,"mat-progress-bar",50)}function ge(n,s){if(1&n&&(e.ynx(0),e._UZ(1,"app-pagination",51),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("route","/categories")("pageData",t.pageData)("pageSize",t.pageSize)("currentPage",t.page)}}const pe=[{path:"",component:(()=>{class n{constructor(t,i,o,a,c,m){this.categoryService=t,this.uiService=i,this.route=o,this.router=a,this.fb=c,this.authService=m,this.dataIsLoaded=!1,this.page=1,this.pageSize=10,this.pageData={count:0,docs:[]},this.selectedCat=null,this.selectedsubCat=null,this.showFilter=!1,this.isFilterApplied=!1,this.authData=null,this.adminModules=p.W5}ngOnInit(){this.authData=this.authService.getAuthData,this.route.queryParams.subscribe(t=>{this.dataIsLoaded=!1,this.page=+t.page?+t.page:this.page,this.pageSize=+t.pageSize?+t.pageSize:this.pageSize,this.initForm(),this.fetchCategories()})}haveAccess(t,i){return(i?.adminRole?.permissions||[])?.findIndex(o=>o.module==p.W5.CATEGORY&&o[t])>=0||i?.role==p.xZ.SUPER_ADMIN}initForm(){let t=localStorage.getItem("categoryFilter"),i={status:[!0],createdAt:[null]};if(t){this.isFilterApplied=!0;let o=JSON.parse(t);i.status=[o.status],i.createdAt=[o.createdAt]}this.filterForm=this.fb.group(i)}applyFilter(t){this.isFilterApplied=!0,this.page=1,localStorage.setItem("categoryFilter",JSON.stringify(t)),this.fetchCategories()}clearFilter(){this.filterForm.reset({status:!0}),this.isFilterApplied=!1,localStorage.removeItem("categoryFilter"),this.fetchCategories()}onChangePageSize(t){this.dataIsLoaded=!1,this.pageSize=+t.target.value,this.fetchCategories()}fetchCategories(){!this.haveAccess("read",this.authData)||(this.dataIsLoaded=!1,this.pageData.count=0,this.pageData.docs=[],this.categoryService.fetchCategories(this.textSearch,this.page,this.pageSize,this.isFilterApplied,this.filterForm?.value).subscribe(t=>{this.pageData=t.data,this.dataIsLoaded=!0},t=>{this.dataIsLoaded=!1}))}onSearch(t){this.textSearch=t,this.page=1,this.fetchCategories()}updateCategoryStatus(t,i,o){this.categoryService.updateCategoryStatus(t,i).subscribe(a=>{this.pageData.docs=this.pageData.docs.map(c=>(c._id==t&&(c.status=!i),c.subCategories=c.subCategories.map(m=>(m._id==t&&(m.status=!i),m.subCategories=m?.subCategories?.map(Z=>(Z._id==t&&(Z.status=!i),Z)),m)),c)),this.uiService.openSnackbar(a.message)})}onAdd(t){let i;i=t?this.uiService.openModal("#Add_SubCat",{catId:t}):this.uiService.openModal("#Add_Specialities_details"),i.afterClose.subscribe(o=>{o&&(this.dataIsLoaded=!1,this.fetchCategories())})}onFilter(){this.uiService.openModal("#Filter_Categories").afterClose.subscribe(t=>{})}onUpdateCategory(){this.dataIsLoaded=!1,this.fetchCategories()}onEdit(t,i){let o;o=i?this.uiService.openModal("#edit_SubCat",{mainCatId:i,category:t}):this.uiService.openModal("#edit_specialities_details",t),o.afterClose.subscribe(a=>{a&&this.fetchCategories()})}onDelete(t,i){this.uiService.openModal("#delete_modal").afterClose.subscribe(o=>{o&&(this.dataIsLoaded=!1,this.categoryService.deleteCategories(t).subscribe(a=>{this.fetchCategories(),this.uiService.openSnackbar(a.message),this.uiService.closeModal("#delete_modal",!0)},a=>{this.dataIsLoaded=!0}))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.G),e.Y36(u.F),e.Y36(f.gz),e.Y36(f.F0),e.Y36(r.qu),e.Y36(b.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-categories"]],decls:29,vars:7,consts:[[1,"page-wrapper"],[1,"content","container-fluid"],[1,"page-header"],[1,"row"],[1,"col-sm-7","col-auto"],[1,"page-title"],[1,"col-sm-5","col"],[4,"ngIf"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","dt-bootstrap4","no-footer"],[1,"row","w-100"],[1,"app-pagesize-dropdown","col",3,"pageSize","selectedPageSize"],[1,"col"],[1,"d-flex","align-content-center","float-right"],[1,"float-lg-right",3,"placeholder","inputText"],["class","text-center text-danger",4,"ngIf"],["class","row",4,"ngIf"],["mode","indeterminate",4,"ngIf"],[1,"btn","btn-primary","btn-sm","float-right","mt-2",3,"click"],[1,"fa","fa-plus"],[1,"text-center","text-danger"],[1,"table-responsive"],["id","DataTables_Table_0","role","grid","aria-describedby","DataTables_Table_0_info",1,"table","table-hover","table-center","mb-0","dataTable","no-footer","table-bordered","table-bordered"],["role","row"],["colspan","4"],[1,"text-center",2,"width","200px"],[1,"text-right"],[4,"ngFor","ngForOf"],["role","row",3,"ngClass"],["colspan","4",1,"sorting_1","cursor",3,"click"],[3,"ngClass"],[1,"table-avatar"],[1,"avatar","avatar-sm","mr-2"],[1,"avatar-img","rounded-circle",3,"src","alt"],[3,"title"],[1,"text-center"],[1,"d-flex","justify-content-center"],["type","checkbox","id","status_1",3,"ngClass"],["for","status_1",1,"checktoggle",3,"click"],[1,"actions"],["data-toggle","modal",1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"fe","fe-plus"],["data-toggle","modal",1,"btn","btn-sm","btn-outline-success",3,"click"],[1,"fe","fe-pencil"],["data-toggle","modal",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fe","fe-trash"],["role","row","app-sub-cat-item","",3,"ngClass","cid","item","isOnDelete","onUpdateCategory",4,"ngIf"],["role","row","app-sub-cat-item","",3,"ngClass","cid","item","isOnDelete","onUpdateCategory"],["mode","indeterminate"],[1,"row","p-2",3,"route","pageData","pageSize","currentPage"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Categories"),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,re,4,0,"ng-container",7),e.qZA()()(),e.TgZ(9,"div",3)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.NdJ("selectedPageSize",function(a){return i.onChangePageSize(a)}),e.qZA(),e.TgZ(16,"div",14)(17,"div",15)(18,"app-search-input",16),e.NdJ("inputText",function(a){return i.onSearch(a)}),e.qZA()()()(),e.YNc(19,se,3,0,"div",17),e.YNc(20,ue,16,1,"div",18),e.YNc(21,me,1,0,"mat-progress-bar",19),e.qZA(),e.YNc(22,ge,2,4,"ng-container",7),e.qZA()()()()()(),e._UZ(23,"app-add-categories")(24,"app-update-categories")(25,"app-add-sub-category")(26,"app-update-sub-category")(27,"app-delete-modal")(28,"app-filter-category")),2&t&&(e.xp6(8),e.Q6J("ngIf",i.haveAccess("write",i.authData)),e.xp6(7),e.Q6J("pageSize",i.pageSize),e.xp6(3),e.Q6J("placeholder","Search By Name"),e.xp6(1),e.Q6J("ngIf",!i.haveAccess("read",i.authData)),e.xp6(1),e.Q6J("ngIf",i.dataIsLoaded&&i.haveAccess("read",i.authData)),e.xp6(1),e.Q6J("ngIf",!i.dataIsLoaded),e.xp6(1),e.Q6J("ngIf",i.dataIsLoaded))},dependencies:[d.mk,d.sg,d.O5,S.z,C.pW,U.Q,q.C,N.J,Y,z,K,R,X,ae,d.uU,J.p],styles:[".avatar[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{object-fit:cover}"]}),n})()}];let fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.Bz.forChild(pe),f.Bz]}),n})();var F=l(529),_e=l(508),k=l(3238),M=l(8277),he=l(7523),be=l(1961),Ce=l(6738),ve=l(2712),Se=l(3677),Ze=l(8173),ye=l(1689);let Ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[g.G,{provide:F.TP,useClass:be.s,multi:!0},{provide:k._A,useClass:M.t7,deps:[k.Ad,M.o8]},{provide:k.sG,useValue:{parse:{dateInput:"LL"},display:{dateInput:"LL",dateA11yLabel:"LL",monthYearLabel:"MMM YYYY",monthYearA11yLabel:"MMMM YYYY"}}}],imports:[d.ez,fe,F.JF,r.UX,r.u5,_e.m,ve.q,Ze.u,Se.I,ye.n,Ce.a,_.A0,he.F]}),n})()},1637:(A,h,l)=>{l.d(h,{F:()=>p});var d=l(2502),_=l(4650),f=l(529);let p=(()=>{class e{constructor(u){this.http=u,this.imageGuidline=[{key:"Image format",value:"JPEG, PNG formats. Animated .gif files not accepted."},{key:"Image Size",value:"The minimum image size requirement is 1000 pixels. Image should not exceed 10,000px. Zoom function enabled images should be there."},{key:"Image Frame",value:"At least 85% of the entire frame or background must be filled."},{key:"Background Colour",value:"White or transparent background is allowed. However white is preferred more. Colorful backgrounds are not at all accepted."},{key:"Image Colour Mode",value:"RGB or CMYK can be used."},{key:"Cannot use",value:"You cannot use any badges used on Amazon, logos or trademarks of amazon, ALEXA PRIME or the Amazon similar design."},{key:"Cannot include badges",value:"Like \u201cAmazon\u2019s choice\u201d, \u201cTop seller\u201d, \u201cBest seller\u201d, \u201cAmazon Alexa\u201d and so on."}]}uploadFiles(u){let r=new FormData;for(let b of u)r.append("images",b);return this.http.post(`${d.N.apiUrl}/auth/upload-files`,r)}}return e.\u0275fac=function(u){return new(u||e)(_.LFG(f.eN))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5861:(A,h,l)=>{function d(f,p,e,g,u,r,b){try{var S=f[r](b),C=S.value}catch(U){return void e(U)}S.done?p(C):Promise.resolve(C).then(g,u)}function _(f){return function(){var p=this,e=arguments;return new Promise(function(g,u){var r=f.apply(p,e);function b(C){d(r,g,u,b,S,"next",C)}function S(C){d(r,g,u,b,S,"throw",C)}b(void 0)})}}l.d(h,{Z:()=>_})}}]);