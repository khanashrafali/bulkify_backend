"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[979],{4654:(Z,v,r)=>{r.d(v,{I:()=>c});var s=r(4650),m=r(1048);const g=["*"];let c=(()=>{class e{constructor(p){this.route=p}ngOnInit(){this.route.paramMap.subscribe(p=>{this.updateId=p.get("sliderId")})}}return e.\u0275fac=function(p){return new(p||e)(s.Y36(m.gz))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-image-guideline"]],inputs:{size:"size"},ngContentSelectors:g,decls:12,vars:1,template:function(p,f){1&p&&(s.F$t(),s.TgZ(0,"h5"),s._uU(1,"Note: Following steps need to follow before uploading file"),s.qZA(),s.TgZ(2,"ul")(3,"li"),s._uU(4,"Image format : JPEG, PNG formats. Animated .gif files not accepted."),s.qZA(),s.TgZ(5,"li"),s._uU(6),s.qZA(),s.TgZ(7,"li"),s._uU(8,"Image Frame : At least 85% of the entire frame or background must be filled."),s.qZA(),s.TgZ(9,"li"),s._uU(10," Background Colour : White or transparent background is allowed. However white is preferred more. Colorful backgrounds are not at all accepted. "),s.qZA(),s.Hsn(11),s.qZA()),2&p&&(s.xp6(6),s.hij("Image Size : ",f.size||"2400x1600px"," Pixel Image Size."))}}),e})()},7523:(Z,v,r)=>{r.d(v,{F:()=>g});var s=r(6895),m=r(4650);let g=(()=>{class c{}return c.\u0275fac=function(d){return new(d||c)},c.\u0275mod=m.oAB({type:c}),c.\u0275inj=m.cJS({imports:[s.ez]}),c})()},1601:(Z,v,r)=>{r.d(v,{X:()=>g});var s=r(6895),m=r(4650);let g=(()=>{class c{}return c.\u0275fac=function(d){return new(d||c)},c.\u0275mod=m.oAB({type:c}),c.\u0275inj=m.cJS({imports:[s.ez]}),c})()},937:(Z,v,r)=>{r.r(v),r.d(v,{BrandsModule:()=>me});var s=r(6895),m=r(1048),g=r(3887),c=r(6093),e=r(4650),d=r(4006),p=r(9812),f=r(6871),_=r(3877),A=r(605),b=r(4654);function S(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t),e.oxw();const i=e.MAs(41);return e.KtG(i.click())}),e._UZ(1,"i",32),e._uU(2," Pick Image "),e.qZA()}}function B(n,l){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"app-input-error",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("control",t.form.get("image"))("fieldName","Image")}}function y(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"a",35),e._UZ(3,"img",36),e.qZA(),e.TgZ(4,"div",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.removebrandLogo("image",!1))}),e._UZ(5,"i",38),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("href",t.imgSrc,e.LSH),e.xp6(1),e.Q6J("src",t.imgSrc,e.LSH)}}function F(n,l){1&n&&e._UZ(0,"span",39)}let M=(()=>{class n{constructor(t,a,i,o,u){this.fb=t,this.uiService=a,this.brandService=i,this.categoryService=o,this.location=u,this.isFormSubmitted=!1,this.categories=[]}ngOnInit(){this.initForm(),this.getCategories()}initForm(){this.form=this.fb.group({image:[null],brandName:[null],categories:[[]],isApproved:[!1]})}getCategories(){this.categoryService.fetchCategories().subscribe(t=>this.categories=t.data.docs)}onSelectAll(){const t=this.categories.map(a=>a._id)||[];this.form.get("categories")?.patchValue(t)}onClearAll(){this.form.get("categories")?.patchValue([])}removebrandLogo(t,a=!1){this.imgSrc=null,this.form.get(t)?.patchValue(null)}chooseFile(t,a,i=!1){const o=t.target?.files;if(o?.length){if(!g.KL.includes(o[0].type))return this.uiService.openSnackbar(g.p1);for(let u=0;u<o.length;u++){const h=new FileReader;h.onload=ue=>{this.imgSrc=h.result},h.readAsDataURL(o[u])}(0,c.Y)(t,a,this.form)}}onFormSubmit(t){this.form.invalid?this.form.markAllAsTouched():(this.isFormSubmitted=!0,this.brandService.addBrand(t).then(a=>{this.uiService.openSnackbar(a.message),this.isFormSubmitted=!1,this.location.back()}).catch(a=>{this.isFormSubmitted=!1}))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.qu),e.Y36(p.F),e.Y36(f.c),e.Y36(_.G),e.Y36(s.Ye))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-brand"]],decls:53,vars:11,consts:[[1,"page-wrapper"],[1,"content","container-fluid"],[1,"page-header"],[1,"row"],[1,"col-sm-7","col-auto"],[1,"page-title"],[1,"col-sm-5","col"],[1,"btn","btn-primary","btn-sm","float-right","mt-2",3,"click"],[1,"fa","fa-arrow-left"],[1,"col-sm-12"],[1,"col-12"],[1,"card"],[1,"card-body"],["download","assets/img/category.png","href","assets/img/category.png"],[3,"formGroup","ngSubmit"],[1,"row","form-row"],[1,"col-6"],[1,"form-group"],["for","validationServer02",1,"required-label"],["maxlength","50","type","text","id","validationServer02","placeholder","Name","required","","formControlName","brandName",1,"form-control",3,"ngClass"],[3,"control","fieldName"],["for",""],["formControlName","isApproved","type","checkbox","id","status_f",3,"ngClass"],["for","status_f",1,"checktoggle"],["multiple","","type","file","accept","image/*","id","validationServer02",1,"form-control",3,"hidden","focus","change"],["image",""],["type","button","class","btn btn-primary btn-sm float-right mt-2",3,"click",4,"ngIf"],["class","col-12",4,"ngIf"],["class","d-flex align-content-start pt-2",4,"ngIf"],["type","submit",1,"btn","btn-primary","float-right",3,"disabled"],["class","spinner-border spinner-border-sm mr-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","float-right","mt-2",3,"click"],[1,"fa","fa-upload"],[1,"d-flex","align-content-start","pt-2"],[1,"d-flex"],["data-fancybox","gallery",3,"href"],[1,"img-thumbnail",2,"height","100px",3,"src"],[1,"mb-1","cursor","trashImage",3,"click"],[1,"fa","fa-trash-o","text-danger"],["role","status",1,"spinner-border","spinner-border-sm","mr-2"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Add Brand"),e.qZA()(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return a.location.back()}),e._UZ(9,"i",8),e._uU(10," Back"),e.qZA()()()(),e.TgZ(11,"div",3)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"app-image-guideline")(17,"li"),e._uU(18,"Sample Image: "),e.TgZ(19,"a",13),e._uU(20,"Download Sample Image"),e.qZA()()()()()(),e.TgZ(21,"form",14),e.NdJ("ngSubmit",function(){return a.onFormSubmit(a.form.value)}),e.TgZ(22,"div",11)(23,"div",12)(24,"div",15)(25,"div",16)(26,"div",17)(27,"label",18),e._uU(28,"Name"),e.qZA(),e._UZ(29,"input",19)(30,"app-input-error",20),e.qZA()(),e.TgZ(31,"div",16)(32,"div",17)(33,"label",21)(34,"b"),e._uU(35," Active"),e.qZA()(),e._UZ(36,"input",22),e.TgZ(37,"label",23),e._uU(38,"checkbox"),e.qZA()()(),e.TgZ(39,"div",10)(40,"input",24,25),e.NdJ("focus",function(){let o;return null==(o=a.form.get("image"))?null:o.markAsTouched()})("change",function(o){return a.chooseFile(o,"image",!1)}),e.qZA(),e.YNc(42,S,3,0,"button",26),e.qZA(),e.YNc(43,B,2,2,"div",27),e.TgZ(44,"div",10),e.YNc(45,y,6,2,"div",28),e.qZA()()()(),e.TgZ(46,"button",29),e.YNc(47,F,1,0,"span",30),e._uU(48," Save "),e.qZA(),e._UZ(49,"br")(50,"br")(51,"br")(52,"br"),e.qZA()()()()()),2&t){let i,o,u;e.xp6(21),e.Q6J("formGroup",a.form),e.xp6(8),e.Q6J("ngClass",null!=(i=a.form.get("brandName"))&&i.touched?null!=(i=a.form.get("brandName"))&&i.hasError("required")?"is-invalid":"is-valid":""),e.xp6(1),e.Q6J("control",a.form.get("brandName"))("fieldName","Name"),e.xp6(6),e.Q6J("ngClass",null!=(o=a.form.get("isApproved"))&&o.value?"check active":"check"),e.xp6(4),e.Q6J("hidden",!0),e.xp6(2),e.Q6J("ngIf",!a.imgSrc),e.xp6(1),e.Q6J("ngIf",null==(u=a.form.get("image"))?null:u.errors),e.xp6(2),e.Q6J("ngIf",a.imgSrc),e.xp6(1),e.Q6J("disabled",a.isFormSubmitted),e.xp6(1),e.Q6J("ngIf",a.isFormSubmitted)}},dependencies:[s.mk,s.O5,d._Y,d.Fj,d.Wl,d.JJ,d.JL,d.Q7,d.nD,d.sg,d.u,A.w,b.I],styles:[".trashImage[_ngcontent-%COMP%]{position:relative;right:25px;background:black;height:min-content;padding:0 6px}"]}),n})();var x=r(5990),J=r(7341),L=r(6129),N=r(8446),k=r(6172),T=r(3162),Y=r(4724),P=r(5144);const D=function(){return["add"]};function O(n,l){1&n&&(e.ynx(0),e.TgZ(1,"button",20),e._UZ(2,"i",21),e._uU(3," Add "),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,D)))}function Q(n,l){1&n&&(e.TgZ(0,"div",22)(1,"b"),e._uU(2,"Unauthorize Access."),e.qZA()())}const z=function(n){return["update",n]};function E(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",29)(2,"td",30)(3,"h2",31)(4,"a",32),e._UZ(5,"img",33),e.qZA(),e.TgZ(6,"a",34),e._uU(7),e.ALo(8,"elipsis"),e.qZA()()(),e.TgZ(9,"td",35),e._uU(10),e.ALo(11,"elipsis"),e.qZA(),e.TgZ(12,"td",35)(13,"div",36),e._UZ(14,"input",37),e.TgZ(15,"label",38),e.NdJ("click",function(){const o=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.updateBrandStatus(o._id,!o.isApproved))}),e._uU(16,"checkbox"),e.qZA()()(),e.TgZ(17,"td",35),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",27)(21,"div",39)(22,"button",40),e._UZ(23,"i",41),e._uU(24," Edit "),e.qZA()()()(),e.BQk()}if(2&n){const t=l.$implicit,a=l.index,i=e.oxw(2);e.xp6(1),e.Q6J("ngClass",a%2==0?"even":"odd"),e.xp6(4),e.Q6J("src",t.image.xs?t.image.xs:"assets/img/patients/patient.jpg",e.LSH)("alt",t.brandName),e.xp6(2),e.hij("",e.lcZ(8,8,t.brandName)," "),e.xp6(3),e.Oqu(e.lcZ(11,10,i.getCategoriesAsText(t))),e.xp6(4),e.Q6J("ngClass",t.isApproved?"check active":"check"),e.xp6(4),e.hij(" ",e.xi3(19,12,t.date,"d MMM, y")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(15,z,t._id))}}function w(n,l){if(1&n&&(e.TgZ(0,"div",3)(1,"div",8)(2,"div",23)(3,"table",24)(4,"thead")(5,"tr",25)(6,"th"),e._uU(7,"Brand"),e.qZA(),e.TgZ(8,"th",26),e._uU(9,"Categories"),e.qZA(),e.TgZ(10,"th",26),e._uU(11,"Active Status"),e.qZA(),e.TgZ(12,"th",26),e._uU(13,"Created At"),e.qZA(),e.TgZ(14,"th",27),e._uU(15,"Actions \xa0"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,E,25,17,"ng-container",28),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(17),e.Q6J("ngForOf",t.pageData.docs)}}function q(n,l){1&n&&e._UZ(0,"mat-progress-bar",42)}function G(n,l){if(1&n&&(e.ynx(0),e._UZ(1,"app-pagination",43),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("route","/brands")("pageData",t.pageData)("pageSize",t.pageSize)("currentPage",t.page)}}function R(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t),e.oxw();const i=e.MAs(24);return e.KtG(i.click())}),e._UZ(1,"i",33),e._uU(2," Pick Image "),e.qZA()}}function H(n,l){1&n&&(e.TgZ(0,"div",9)(1,"small",34),e._uU(2,"Image is required."),e.qZA()())}function W(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"a",37),e._UZ(3,"img",38),e.qZA(),e.TgZ(4,"div",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.removebrandLogo("image",!1))}),e._UZ(5,"i",40),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("href",t.imageSrc,e.LSH),e.xp6(1),e.Q6J("src",t.imageSrc,e.LSH)}}function j(n,l){1&n&&e._UZ(0,"span",41)}function X(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"form",15),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onFormSubmit(i.form.value))}),e.TgZ(2,"div",10)(3,"div",11)(4,"div",16)(5,"div",17)(6,"div",18)(7,"label",19),e._uU(8,"Name"),e.qZA(),e._UZ(9,"input",20)(10,"app-input-error",21),e.qZA()(),e.TgZ(11,"div",17)(12,"div",18)(13,"label",22)(14,"b"),e._uU(15," Active"),e.qZA()(),e._UZ(16,"input",23),e.TgZ(17,"label",24),e._uU(18,"checkbox"),e.qZA()()(),e.TgZ(19,"div",4)(20,"label",19),e._uU(21,"Image"),e.qZA()(),e.TgZ(22,"div",6)(23,"input",25,26),e.NdJ("focus",function(){e.CHM(t);const i=e.oxw();let o;return e.KtG(null==(o=i.form.get("image"))?null:o.markAsTouched())})("change",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.chooseFile(i,"image",!1))}),e.qZA(),e.YNc(25,R,3,0,"button",27),e.qZA(),e.YNc(26,H,3,0,"div",28),e.TgZ(27,"div",9),e.YNc(28,W,6,2,"div",29),e.qZA()()()(),e.TgZ(29,"button",30),e.YNc(30,j,1,0,"span",31),e._uU(31," Save "),e.qZA(),e._UZ(32,"br")(33,"br")(34,"br")(35,"br"),e.qZA()()}if(2&n){const t=e.oxw();let a,i,o;e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(8),e.Q6J("ngClass",null!=(a=t.form.get("brandName"))&&a.touched?null!=(a=t.form.get("brandName"))&&a.hasError("required")?"is-invalid":"is-valid":""),e.xp6(1),e.Q6J("control",t.form.get("brandName"))("fieldName","Name"),e.xp6(6),e.Q6J("ngClass",null!=(i=t.form.get("isApproved"))&&i.value?"check active":"check"),e.xp6(7),e.Q6J("hidden",!0),e.xp6(2),e.Q6J("ngIf",!t.imageSrc),e.xp6(1),e.Q6J("ngIf",!(null!=(o=t.form.get("image"))&&o.value||t.imageSrc)),e.xp6(2),e.Q6J("ngIf",t.imageSrc),e.xp6(1),e.Q6J("disabled",t.isFormSubmitted),e.xp6(1),e.Q6J("ngIf",t.isFormSubmitted)}}function V(n,l){1&n&&(e.TgZ(0,"div",14)(1,"div",10)(2,"div",11),e._UZ(3,"mat-progress-bar",42),e.qZA()()())}const $=[{path:"",component:(()=>{class n{constructor(t,a,i,o,u,h){this.brandService=t,this.uiService=a,this.route=i,this.router=o,this.fb=u,this.authService=h,this.dataIsLoaded=!1,this.page=1,this.pageSize=10,this.pageData={count:0,docs:[]},this.selectedCat=null,this.selectedsubCat=null,this.showFilter=!1,this.isFilterApplied=!1,this.authData=null,this.adminModules=x.W5}ngOnInit(){this.authData=this.authService.getAuthData,this.route.queryParams.subscribe(t=>{this.dataIsLoaded=!1,this.page=+t.page?+t.page:this.page,this.pageSize=+t.pageSize?+t.pageSize:this.pageSize,this.initForm(),this.fetchBrands()})}haveAccess(t,a){return(a?.adminRole?.permissions||[])?.findIndex(i=>i.module==x.W5.CATEGORY&&i[t])>=0||a?.role==x.xZ.SUPER_ADMIN}initForm(){let t=localStorage.getItem("brandFilter"),a={status:[!0],createdAt:[null]};if(t){this.isFilterApplied=!0;let i=JSON.parse(t);a.status=[i.status],a.createdAt=[i.createdAt]}this.filterForm=this.fb.group(a)}applyFilter(t){this.isFilterApplied=!0,this.page=1,localStorage.setItem("brandFilter",JSON.stringify(t)),this.fetchBrands()}clearFilter(){this.filterForm.reset({status:!0}),this.isFilterApplied=!1,localStorage.removeItem("brandFilter"),this.fetchBrands()}onChangePageSize(t){this.dataIsLoaded=!1,this.pageSize=+t.target.value,this.fetchBrands()}fetchBrands(){!this.haveAccess("read",this.authData)||(this.dataIsLoaded=!1,this.pageData.count=0,this.pageData.docs=[],this.brandService.getBrands({textSearch:this.textSearch,page:this.page,pageSize:this.pageSize,isFilterApplied:this.isFilterApplied,filterData:this.filterForm?.value}).subscribe(t=>{this.pageData=t.data,this.dataIsLoaded=!0},t=>{this.dataIsLoaded=!1}))}onSearch(t){this.textSearch=t,this.page=1,this.fetchBrands()}updateBrandStatus(t,a){this.brandService.updateBrandStatus(t,a).subscribe(i=>{this.pageData.docs=this.pageData.docs.map(o=>(o._id==t&&(o.isApproved=a),o)),this.uiService.openSnackbar(i.message)})}getCategoriesAsText(t){return t.categories.map(a=>a.name).join(", ")}onDelete(t,a){this.uiService.openModal("#delete_modal").afterClose.subscribe(i=>{i&&(this.dataIsLoaded=!1,this.brandService.deleteBrand(t).subscribe(o=>{this.fetchBrands(),this.uiService.openSnackbar(o.message),this.uiService.closeModal("#delete_modal",!0)},o=>{this.dataIsLoaded=!0}))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.c),e.Y36(p.F),e.Y36(m.gz),e.Y36(m.F0),e.Y36(d.qu),e.Y36(J.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-brand-list"]],decls:24,vars:7,consts:[[1,"page-wrapper"],[1,"content","container-fluid"],[1,"page-header"],[1,"row"],[1,"col-sm-7","col-auto"],[1,"page-title"],[1,"col-sm-5","col"],[4,"ngIf"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","dt-bootstrap4","no-footer"],[1,"row","w-100"],[1,"app-pagesize-dropdown","col",3,"pageSize","selectedPageSize"],[1,"col"],[1,"d-flex","align-content-center","float-right"],[1,"float-lg-right",3,"placeholder","inputText"],["class","text-center text-danger",4,"ngIf"],["class","row",4,"ngIf"],["mode","indeterminate",4,"ngIf"],[1,"btn","btn-primary","btn-sm","float-right","mt-2",3,"routerLink"],[1,"fa","fa-plus"],[1,"text-center","text-danger"],[1,"table-responsive"],["id","DataTables_Table_0","role","grid","aria-describedby","DataTables_Table_0_info",1,"table","table-hover","table-center","mb-0","dataTable","no-footer","table-bordered","table-bordered"],["role","row"],[1,"text-center",2,"width","200px"],[1,"text-right"],[4,"ngFor","ngForOf"],["role","row",3,"ngClass"],[1,"sorting_1","cursor"],[1,"table-avatar"],["href","javascript:void(0)",1,"avatar","avatar-sm","mr-2"],[1,"avatar-img","rounded-circle",3,"src","alt"],["href","javascript:void(0)"],[1,"text-center"],[1,"d-flex","justify-content-center"],["type","checkbox","id","status_1",3,"ngClass"],["for","status_1",1,"checktoggle",3,"click"],[1,"actions"],["data-toggle","modal",1,"btn","btn-sm","btn-outline-success",3,"routerLink"],[1,"fe","fe-pencil"],["mode","indeterminate"],[1,"row","p-2",3,"route","pageData","pageSize","currentPage"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Brands"),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,O,4,2,"ng-container",7),e.qZA()()(),e.TgZ(9,"div",3)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.NdJ("selectedPageSize",function(o){return a.onChangePageSize(o)}),e.qZA(),e.TgZ(16,"div",14)(17,"div",15)(18,"app-search-input",16),e.NdJ("inputText",function(o){return a.onSearch(o)}),e.qZA()()()(),e.YNc(19,Q,3,0,"div",17),e.YNc(20,w,18,1,"div",18),e.YNc(21,q,1,0,"mat-progress-bar",19),e.qZA(),e.YNc(22,G,2,4,"ng-container",7),e.qZA()()()()()(),e._UZ(23,"app-delete-modal")),2&t&&(e.xp6(8),e.Q6J("ngIf",a.haveAccess("write",a.authData)),e.xp6(7),e.Q6J("pageSize",a.pageSize),e.xp6(3),e.Q6J("placeholder","Search By Name"),e.xp6(1),e.Q6J("ngIf",!a.haveAccess("read",a.authData)),e.xp6(1),e.Q6J("ngIf",a.dataIsLoaded&&a.haveAccess("read",a.authData)),e.xp6(1),e.Q6J("ngIf",!a.dataIsLoaded&&a.haveAccess("read",a.authData)),e.xp6(1),e.Q6J("ngIf",a.dataIsLoaded))},dependencies:[s.mk,s.sg,s.O5,m.rH,L.z,N.Q,k.C,T.pW,Y.J,s.uU,P.p],styles:['.switch[_ngcontent-%COMP%]{position:absolute;display:inline-block;width:50px;height:24px;margin-left:12px;margin-top:4px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:2px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(28px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})()},{path:"add",component:M},{path:"update/:brandId",component:(()=>{class n{constructor(t,a,i,o,u,h){this.fb=t,this.uiService=a,this.brandService=i,this.categoryService=o,this.location=u,this.route=h,this.isLoading=!0,this.isFormSubmitted=!1,this.categories=[]}ngOnInit(){this.getBrands(),this.route.paramMap.subscribe(t=>{let a=t.get("brandId");a&&this.brandService.getBrand(a).subscribe({next:i=>{this.imageSrc=i.data.image.sm,this.initForm(i.data)}})})}initForm(t){this.form=this.fb.group({_id:[t._id],image:[null],brandName:[t.brandName],categories:[[]],isApproved:[t.isApproved]}),this.isLoading=!1}getBrands(){this.categoryService.fetchCategories().subscribe(t=>this.categories=t.data.docs)}removebrandLogo(t,a){this.imageSrc=null,this.form.get(t)?.patchValue(null)}chooseFile(t,a,i){const o=t.target?.files;if(o?.length){if(!g.KL.includes(o[0].type))return void this.uiService.openSnackbar(g.p1);for(let u=0;u<o.length;u++){const h=new FileReader;h.onload=ue=>{this.imageSrc=h.result},h.readAsDataURL(o[u])}(0,c.Y)(t,a,this.form)}}onFormSubmit(t){this.form.invalid?this.form.markAllAsTouched():(this.isFormSubmitted=!0,this.brandService.updateBrand(t._id,t).then(a=>{this.uiService.openSnackbar(a.message),this.isFormSubmitted=!1,this.location.back()}).catch(a=>{this.isFormSubmitted=!1}))}onSelectAll(){const t=this.categories.map(a=>a._id)||[];this.form.get("categories")?.patchValue(t)}onClearAll(){this.form.get("categories")?.patchValue([])}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.qu),e.Y36(p.F),e.Y36(f.c),e.Y36(_.G),e.Y36(s.Ye),e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-brand"]],decls:22,vars:2,consts:[[1,"page-wrapper"],[1,"content","container-fluid"],[1,"page-header"],[1,"row"],[1,"col-sm-7","col-auto"],[1,"page-title"],[1,"col-sm-5","col"],[1,"btn","btn-primary","btn-sm","float-right","mt-2",3,"click"],[1,"fa","fa-arrow-left"],[1,"col-12"],[1,"card"],[1,"card-body"],["download","assets/img/category.png","href","assets/img/update-category.png"],["class","col-sm-12",4,"ngIf"],[1,"col-sm-12"],[3,"formGroup","ngSubmit"],[1,"row","form-row"],[1,"col-6"],[1,"form-group"],["for","validationServer02",1,"required-label"],["maxlength","50","type","text","id","validationServer02","placeholder","Name","required","","formControlName","brandName",1,"form-control",3,"ngClass"],[3,"control","fieldName"],["for",""],["formControlName","isApproved","type","checkbox","id","status_f",3,"ngClass"],["for","status_f",1,"checktoggle"],["multiple","","type","file","accept","image/*","id","validationServer02",1,"form-control",3,"hidden","focus","change"],["image",""],["type","button","class","btn btn-primary btn-sm float-right mt-2",3,"click",4,"ngIf"],["class","col-12",4,"ngIf"],["class","d-flex align-content-start pt-2",4,"ngIf"],["type","submit",1,"btn","btn-primary","float-right",3,"disabled"],["class","spinner-border spinner-border-sm mr-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","float-right","mt-2",3,"click"],[1,"fa","fa-upload"],[1,"text-danger"],[1,"d-flex","align-content-start","pt-2"],[1,"d-flex"],["data-fancybox","gallery",3,"href"],[1,"img-thumbnail",2,"height","100px",3,"src"],[1,"mb-1","cursor","trashImage",3,"click"],[1,"fa","fa-trash-o","text-danger"],["role","status",1,"spinner-border","spinner-border-sm","mr-2"],["mode","indeterminate"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Update Brand"),e.qZA()(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return a.location.back()}),e._UZ(9,"i",8),e._uU(10," Back"),e.qZA()()()(),e.TgZ(11,"div",3)(12,"div",9)(13,"div",10)(14,"div",11)(15,"app-image-guideline")(16,"li"),e._uU(17,"Sample Image: "),e.TgZ(18,"a",12),e._uU(19,"Download Sample Image"),e.qZA()()()()()(),e.YNc(20,X,36,11,"div",13),e.YNc(21,V,4,0,"div",13),e.qZA()()()),2&t&&(e.xp6(20),e.Q6J("ngIf",!a.isLoading),e.xp6(1),e.Q6J("ngIf",a.isLoading))},dependencies:[s.mk,s.O5,d._Y,d.Fj,d.Wl,d.JJ,d.JL,d.Q7,d.nD,d.sg,d.u,T.pW,A.w,b.I],styles:[".trashImage[_ngcontent-%COMP%]{position:relative;right:25px;background:black;height:min-content;padding:0 6px}"]}),n})()}];let ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.Bz.forChild($),m.Bz]}),n})();var C=r(3238),I=r(8277),U=r(529),te=r(7803),ae=r(8796),ne=r(508),ie=r(7523),re=r(1601),oe=r(1961),se=r(6738),de=r(2712),le=r(3677),ce=r(8173),pe=r(1689);let me=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[f.c,{provide:U.TP,useClass:oe.s,multi:!0},{provide:C._A,useClass:I.t7,deps:[C.Ad,I.o8]},{provide:C.sG,useValue:{parse:{dateInput:"LL"},display:{dateInput:"LL",dateA11yLabel:"LL",monthYearLabel:"MMM YYYY",monthYearA11yLabel:"MMMM YYYY"}}}],imports:[s.ez,ee,U.JF,d.UX,ne.m,ce.u,le.I,de.q,pe.n,re.X,se.a,ae.A0,te.Xt,ie.F]}),n})()},1637:(Z,v,r)=>{r.d(v,{F:()=>c});var s=r(2502),m=r(4650),g=r(529);let c=(()=>{class e{constructor(p){this.http=p,this.imageGuidline=[{key:"Image format",value:"JPEG, PNG formats. Animated .gif files not accepted."},{key:"Image Size",value:"The minimum image size requirement is 1000 pixels. Image should not exceed 10,000px. Zoom function enabled images should be there."},{key:"Image Frame",value:"At least 85% of the entire frame or background must be filled."},{key:"Background Colour",value:"White or transparent background is allowed. However white is preferred more. Colorful backgrounds are not at all accepted."},{key:"Image Colour Mode",value:"RGB or CMYK can be used."},{key:"Cannot use",value:"You cannot use any badges used on Amazon, logos or trademarks of amazon, ALEXA PRIME or the Amazon similar design."},{key:"Cannot include badges",value:"Like \u201cAmazon\u2019s choice\u201d, \u201cTop seller\u201d, \u201cBest seller\u201d, \u201cAmazon Alexa\u201d and so on."}]}uploadFiles(p){let f=new FormData;for(let _ of p)f.append("images",_);return this.http.post(`${s.N.apiUrl}/auth/upload-files`,f)}}return e.\u0275fac=function(p){return new(p||e)(m.LFG(g.eN))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5861:(Z,v,r)=>{function s(g,c,e,d,p,f,_){try{var A=g[f](_),b=A.value}catch(S){return void e(S)}A.done?c(b):Promise.resolve(b).then(d,p)}function m(g){return function(){var c=this,e=arguments;return new Promise(function(d,p){var f=g.apply(c,e);function _(b){s(f,d,p,_,A,"next",b)}function A(b){s(f,d,p,_,A,"throw",b)}_(void 0)})}}r.d(v,{Z:()=>m})}}]);