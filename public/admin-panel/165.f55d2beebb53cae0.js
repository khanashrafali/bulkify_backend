"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[165],{6165:(S,f,i)=>{i.r(f),i.d(f,{ContactUsersModule:()=>E});var t=i(6895),g=i(1048),u=i(5990),e=i(4650),_=i(5439),c=i(2502),r=i(3887),h=i(529);let o=(()=>{class s{constructor(a){this.http=a}fetchUsers(a,n,p,P,T){let v="";return n&&p&&(v+=`page=${n}&pageSize=${p}&`),a?.length&&(v+=`textSearch=${a}&`),P&&(v+=`status=${T.status}&`,T.createdAt&&"null"!=T.createdAt&&(v+=`createdAt=${_(T.createdAt).format(r.Hu)}`)),this.http.get(`${c.N.apiUrl}/users/user-feedback?${v}`)}}return s.\u0275fac=function(a){return new(a||s)(e.LFG(h.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var l=i(9812),m=i(4006),U=i(7341),b=i(6129),A=i(3162),C=i(8446),Z=i(6172);function z(s,d){1&s&&(e.TgZ(0,"div",18)(1,"b"),e._uU(2,"Unauthorize Access."),e.qZA()())}function x(s,d){if(1&s&&(e.TgZ(0,"tr",25)(1,"td",22)(2,"h2",26)(3,"a"),e._uU(4),e.ALo(5,"titlecase"),e.qZA()()(),e.TgZ(6,"td",27)(7,"h2",26),e._uU(8),e.qZA()(),e.TgZ(9,"td",27)(10,"h2",26),e._uU(11),e.qZA()(),e.TgZ(12,"td",23),e._uU(13),e.ALo(14,"date"),e.qZA()()),2&s){const a=d.$implicit;e.Q6J("ngClass",d.index%2==0?"even":"odd"),e.xp6(4),e.hij("",e.lcZ(5,5,a.name)||"N/A"," "),e.xp6(4),e.hij(" ",a.phone||"N/A"," "),e.xp6(3),e.hij(" ",a.email||"N/A"," "),e.xp6(2),e.hij(" ",e.xi3(14,7,a.createdAt,"d MMM, y")," ")}}function D(s,d){if(1&s&&(e.TgZ(0,"div",3)(1,"div",7)(2,"div",19)(3,"table",20)(4,"thead")(5,"tr",21)(6,"th",22),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"th",23),e._uU(9,"Mobile Number"),e.qZA(),e.TgZ(10,"th",23),e._uU(11,"Email"),e.qZA(),e.TgZ(12,"th",23),e._uU(13,"Created At"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,x,15,10,"tr",24),e.qZA()()()()()),2&s){const a=e.oxw();e.xp6(15),e.Q6J("ngForOf",a.pageData.docs)}}function I(s,d){1&s&&e._UZ(0,"mat-progress-bar",28)}function F(s,d){if(1&s&&(e.ynx(0),e._UZ(1,"app-pagination",29),e.BQk()),2&s){const a=e.oxw();e.xp6(1),e.Q6J("route","/contact-users")("pageData",a.pageData)("pageSize",a.pageSize)("currentPage",a.page)}}const N=[{path:"",component:(()=>{class s{constructor(a,n,p,P,T,v){this.contactService=a,this.uiService=n,this.route=p,this.router=P,this.fb=T,this.authService=v,this.dataIsLoaded=!1,this.page=1,this.pageSize=10,this.pageData={count:0,docs:[]},this.showFilter=!1,this.isFilterApplied=!1,this.authData=null,this.adminModules=u.W5}ngOnInit(){this.authData=this.authService.getAuthData,this.route.queryParams.subscribe(a=>{this.dataIsLoaded=!1,this.page=+a.page?+a.page:this.page,this.pageSize=+a.pageSize?+a.pageSize:this.pageSize,this.initForm(),this.fetchUsers()})}haveAccess(a,n){return(n?.adminRole?.permissions||[])?.findIndex(p=>p.module==u.W5.PAYOUT&&p[a])>=0||n?.role==u.xZ.SUPER_ADMIN}initForm(){let a=localStorage.getItem("userFilter"),n={status:[!0],createdAt:[null]};if(a){this.isFilterApplied=!0;let p=JSON.parse(a);n.status=[p.status],n.createdAt=[p.createdAt]}this.filterForm=this.fb.group(n)}applyFilter(a){this.isFilterApplied=!0,this.page=1,localStorage.setItem("userFilter",JSON.stringify(a)),this.fetchUsers()}clearFilter(){this.filterForm.reset({status:!0}),this.isFilterApplied=!1,localStorage.removeItem("userFilter"),this.fetchUsers()}onChangePageSize(a){this.dataIsLoaded=!1,this.pageSize=+a.target.value,this.fetchUsers()}fetchUsers(){!this.haveAccess("read",this.authData)||(this.dataIsLoaded=!1,this.pageData.count=0,this.pageData.docs=[],this.contactService.fetchUsers(this.textSearch,this.page,this.pageSize,this.isFilterApplied,this.filterForm?.value).subscribe(a=>{this.pageData=a.data,this.dataIsLoaded=!0},a=>{this.dataIsLoaded=!1}))}resetPagination(){this.router.navigate(["/admins"],{queryParams:{page:1,pageSize:this.pageSize}})}onSearch(a){this.textSearch=a;let n=this.page;this.page=1,this.fetchUsers(),1!=n&&this.resetPagination()}}return s.\u0275fac=function(a){return new(a||s)(e.Y36(o),e.Y36(l.F),e.Y36(g.gz),e.Y36(g.F0),e.Y36(m.qu),e.Y36(U.e))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-users-list"]],decls:21,vars:5,consts:[[1,"page-wrapper"],[1,"content","container-fluid"],[1,"page-header"],[1,"row"],[1,"col-sm-7","col-auto"],[1,"page-title"],[1,"col-sm-5","col"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","dt-bootstrap4","no-footer"],[1,"row","w-100"],[1,"app-pagesize-dropdown","col",3,"pageSize","selectedPageSize"],[1,"col"],["class","text-center text-danger",4,"ngIf"],["class","row",4,"ngIf"],["mode","indeterminate",4,"ngIf"],[4,"ngIf"],[1,"text-center","text-danger"],[1,"table-responsive"],["id","DataTables_Table_0","role","grid","aria-describedby","DataTables_Table_0_info",1,"datatable","table","table-hover","table-center","mb-0","dataTable","no-footer"],["role","row"],[1,"sorting_1"],[1,"text-center"],["role","row",3,"ngClass",4,"ngFor","ngForOf"],["role","row",3,"ngClass"],[1,"table-avatar"],[1,"sorting_1","text-center"],["mode","indeterminate"],[1,"row","p-2",3,"route","pageData","pageSize","currentPage"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Contact Users"),e.qZA()(),e._UZ(7,"div",6),e.qZA()(),e.TgZ(8,"div",3)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12),e.NdJ("selectedPageSize",function(P){return n.onChangePageSize(P)}),e.qZA(),e._UZ(15,"div",13),e.qZA(),e.YNc(16,z,3,0,"div",14),e.YNc(17,D,16,1,"div",15),e.YNc(18,I,1,0,"mat-progress-bar",16),e.qZA(),e.YNc(19,F,2,4,"ng-container",17),e.qZA()()()()()(),e._UZ(20,"app-delete-modal")),2&a&&(e.xp6(14),e.Q6J("pageSize",n.pageSize),e.xp6(2),e.Q6J("ngIf",!n.haveAccess("read",n.authData)),e.xp6(1),e.Q6J("ngIf",n.dataIsLoaded&&n.haveAccess("read",n.authData)),e.xp6(1),e.Q6J("ngIf",!n.dataIsLoaded&&n.haveAccess("read",n.authData)),e.xp6(1),e.Q6J("ngIf",n.dataIsLoaded))},dependencies:[t.mk,t.sg,t.O5,b.z,A.pW,C.Q,Z.C,t.rS,t.uU]}),s})()}];let J=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[g.Bz.forChild(N),g.Bz]}),s})();var y=i(508),L=i(6738),M=i(2712),Q=i(3677),O=i(8173),w=i(1689);let E=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[o],imports:[t.ez,J,h.JF,m.UX,y.m,M.q,O.u,Q.I,w.n,L.a]}),s})()},6172:(S,f,i)=>{i.d(f,{C:()=>u});var t=i(4650);const g=["class","app-pagesize-dropdown"];let u=(()=>{class e{constructor(){this.selectedPageSize=new t.vpe}ngOnInit(){}onChangePageSize(c){this.selectedPageSize.emit(c)}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["",8,"app-pagesize-dropdown"]],inputs:{pageSize:"pageSize"},outputs:{selectedPageSize:"selectedPageSize"},attrs:g,decls:16,vars:8,consts:[[1,"row"],[1,"col-sm-12","col-md-6"],["id","DataTables_Table_0_length",1,"dataTables_length"],["name","DataTables_Table_0_length","aria-controls","DataTables_Table_0",1,"custom-select","custom-select-sm","form-control","form-control-sm",3,"change"],[3,"selected","value"]],template:function(c,r){1&c&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label"),t._uU(4,"Show "),t.TgZ(5,"select",3),t.NdJ("change",function(o){return r.onChangePageSize(o)}),t.TgZ(6,"option",4),t._uU(7,"10"),t.qZA(),t.TgZ(8,"option",4),t._uU(9,"25"),t.qZA(),t.TgZ(10,"option",4),t._uU(11,"50"),t.qZA(),t.TgZ(12,"option",4),t._uU(13,"100"),t.qZA()(),t._uU(14," entries"),t.qZA()()(),t._UZ(15,"div",1),t.qZA()),2&c&&(t.xp6(6),t.Q6J("selected",10==r.pageSize)("value",10),t.xp6(2),t.Q6J("selected",25==r.pageSize)("value",25),t.xp6(2),t.Q6J("selected",50==r.pageSize)("value",50),t.xp6(2),t.Q6J("selected",100==r.pageSize)("value",100))}}),e})()},8446:(S,f,i)=>{i.d(f,{Q:()=>c});var t=i(4650),g=i(1048),u=i(6895);function e(r,h){if(1&r){const o=t.EpF();t.TgZ(0,"li",13)(1,"button",14),t.NdJ("click",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.onPreviouse())}),t._uU(2),t.qZA()()}if(2&r){const o=t.oxw();t.xp6(2),t.hij(" ",o.currentPage-1," ")}}function _(r,h){if(1&r){const o=t.EpF();t.TgZ(0,"li",13)(1,"button",14),t.NdJ("click",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.onNext())}),t._uU(2),t.qZA()()}if(2&r){const o=t.oxw();t.xp6(2),t.hij(" ",o.currentPage+1," ")}}let c=(()=>{class r{constructor(o){this.router=o}ngOnInit(){const o=Math.ceil(this.pageData?.count/this.pageSize);this.hasPrev=this.currentPage-1>=1,this.hasPrev2=this.currentPage-2>=1,this.hasNext=o-this.currentPage>=1,this.hasNext2=o-this.currentPage+1>=1}onNext(){this.router.navigate([this.route],{queryParams:{...this.queryParams,page:this.currentPage+1,pageSize:this.pageSize,orderStatus:this.orderStatus}})}onPreviouse(){this.router.navigate([this.route],{queryParams:{...this.queryParams,page:this.currentPage-1,pageSize:this.pageSize,orderStatus:this.orderStatus}})}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(g.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-pagination"]],inputs:{currentPage:"currentPage",pageSize:"pageSize",pageData:"pageData",orderStatus:"orderStatus",route:"route",queryParams:"queryParams"},decls:18,vars:10,consts:[[1,"col-sm-12","col-md-5","mt-3"],["id","DataTables_Table_0_info","role","status","aria-live","polite",1,"dataTables_info"],[1,"mt-2","text-sm-center"],[1,"col-sm-12","col-md-7","d-flex","justify-content-end","mt-3"],["id","DataTables_Table_0_paginate",1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination"],["id","DataTables_Table_0_previous",1,"paginate_button","page-item","previous",3,"ngClass"],["aria-controls","DataTables_Table_0","data-dt-idx","0","tabindex","0",1,"page-link",3,"disabled","click"],["class","paginate_button page-item",4,"ngIf"],[1,"paginate_button","page-item","active"],["aria-controls","DataTables_Table_0","data-dt-idx","1","tabindex","0",1,"page-link"],["id","DataTables_Table_0_next",1,"paginate_button","page-item","next",3,"ngClass"],["aria-controls","DataTables_Table_0","data-dt-idx","2","tabindex","0",1,"page-link",3,"disabled","click"],[1,"paginate_button","page-item"],["aria-controls","DataTables_Table_0","data-dt-idx","1","tabindex","0",1,"page-link",3,"click"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.qZA()()(),t.TgZ(4,"div",3)(5,"div",4)(6,"ul",5)(7,"li",6)(8,"button",7),t.NdJ("click",function(){return l.onPreviouse()}),t._uU(9," Previous "),t.qZA()(),t.YNc(10,e,3,1,"li",8),t.TgZ(11,"li",9)(12,"button",10),t._uU(13),t.qZA()(),t.YNc(14,_,3,1,"li",8),t.TgZ(15,"li",11)(16,"button",12),t.NdJ("click",function(){return l.onNext()}),t._uU(17," Next "),t.qZA()()()()()),2&o&&(t.xp6(3),t.lnq(" Showing ",l.currentPage*l.pageSize-(l.pageSize-1)," to ",l.currentPage*l.pageSize," of ",l.pageData.count," entries "),t.xp6(4),t.Q6J("ngClass",l.hasPrev?"":"disabled"),t.xp6(1),t.Q6J("disabled",!l.hasPrev),t.xp6(2),t.Q6J("ngIf",l.hasPrev),t.xp6(3),t.hij(" ",l.currentPage," "),t.xp6(1),t.Q6J("ngIf",l.hasNext),t.xp6(1),t.Q6J("ngClass",l.hasNext?"":"disabled"),t.xp6(1),t.Q6J("disabled",!l.hasNext))},dependencies:[u.mk,u.O5]}),r})()}}]);